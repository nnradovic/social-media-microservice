{"level":"error","message":"Error connecting to MongoDB: MongoParseError: options usenewurlparser, useunifiedtopology are not supported\n    at parseOptions (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\mongodb\\lib\\connection_string.js:272:15)\n    at new MongoClient (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\mongodb\\lib\\mongo_client.js:67:61)\n    at NativeConnection.createClient (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\connection.js:334:14)\n    at NativeConnection.openUri (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\mongoose\\lib\\connection.js:1075:34)\n    at Mongoose.connect (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\mongoose\\lib\\mongoose.js:471:15)\n    at Object.<anonymous> (C:\\Projekti\\social-media-microservice\\identity-service\\src\\server.js:17:4)\n    at Module._compile (node:internal/modules/cjs/loader:1706:14)\n    at Object..js (node:internal/modules/cjs/loader:1839:10)\n    at Module.load (node:internal/modules/cjs/loader:1441:32)\n    at Function._load (node:internal/modules/cjs/loader:1263:12) {\n  [stack]: [Getter/Setter],\n  [message]: 'options usenewurlparser, useunifiedtopology are not supported',\n  errorLabelSet: Set(0) {},\n  [name]: [Getter],\n  [errorLabels]: [Getter],\n  [errmsg]: [Getter]\n}","service":"identity-service","timestamp":"2026-02-17T16:52:12.134Z"}
{"level":"error","message":"Error connecting to MongoDB: Error: querySrv ECONNREFUSED _mongodb._tcp.cluster0.mukze8v.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17) {\n  [stack]: [Getter/Setter],\n  [message]: 'querySrv ECONNREFUSED _mongodb._tcp.cluster0.mukze8v.mongodb.net',\n  errno: undefined,\n  code: 'ECONNREFUSED',\n  syscall: 'querySrv',\n  hostname: '_mongodb._tcp.cluster0.mukze8v.mongodb.net'\n}","service":"identity-service","timestamp":"2026-02-17T16:52:29.762Z"}
{"level":"error","message":"Error connecting to MongoDB: Error: querySrv ECONNREFUSED _mongodb._tcp.cluster0.mukze8v.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17) {\n  [stack]: [Getter/Setter],\n  [message]: 'querySrv ECONNREFUSED _mongodb._tcp.cluster0.mukze8v.mongodb.net',\n  errno: undefined,\n  code: 'ECONNREFUSED',\n  syscall: 'querySrv',\n  hostname: '_mongodb._tcp.cluster0.mukze8v.mongodb.net'\n}","service":"identity-service","timestamp":"2026-02-17T16:55:24.489Z"}
{"level":"error","message":"Error connecting to MongoDB: Error: querySrv ECONNREFUSED _mongodb._tcp.cluster0.mukze8v.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17) {\n  [stack]: [Getter/Setter],\n  [message]: 'querySrv ECONNREFUSED _mongodb._tcp.cluster0.mukze8v.mongodb.net',\n  errno: undefined,\n  code: 'ECONNREFUSED',\n  syscall: 'querySrv',\n  hostname: '_mongodb._tcp.cluster0.mukze8v.mongodb.net'\n}","service":"identity-service","timestamp":"2026-02-17T16:56:18.211Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T16:56:35.790Z"}
{"level":"error","message":"Error connecting to MongoDB: Error: querySrv ECONNREFUSED _mongodb._tcp.cluster0.mukze8v.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17) {\n  [stack]: [Getter/Setter],\n  [message]: 'querySrv ECONNREFUSED _mongodb._tcp.cluster0.mukze8v.mongodb.net',\n  errno: undefined,\n  code: 'ECONNREFUSED',\n  syscall: 'querySrv',\n  hostname: '_mongodb._tcp.cluster0.mukze8v.mongodb.net'\n}","service":"identity-service","timestamp":"2026-02-17T16:56:35.801Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T16:57:40.001Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T16:57:40.336Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T16:57:46.803Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T16:57:47.220Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T16:58:46.719Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T16:58:47.073Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T16:58:55.887Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T16:58:56.268Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T16:59:04.460Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T16:59:04.826Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T17:16:01.913Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T17:16:02.357Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T17:17:41.437Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T17:17:41.857Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T17:18:06.043Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T17:18:06.390Z"}
{"level":"info","message":"POST /auth/register","service":"identity-service","timestamp":"2026-02-17T17:22:07.059Z"}
{"level":"info","message":"POST /api/auth/register","service":"identity-service","timestamp":"2026-02-17T17:22:34.304Z"}
{"level":"info","message":"Registering user with data: {\n  usernmae: 'nnradovic',\n  email: 'nnradovic@gmail.com',\n  password: 'test'\n}","service":"identity-service","timestamp":"2026-02-17T17:22:34.312Z"}
{"level":"warn","message":"Validation failed: \"username\" is required","service":"identity-service","timestamp":"2026-02-17T17:22:34.320Z"}
{"level":"info","message":"POST /api/auth/register","service":"identity-service","timestamp":"2026-02-17T17:22:43.488Z"}
{"level":"info","message":"Registering user with data: {\n  username: 'nnradovic',\n  email: 'nnradovic@gmail.com',\n  password: 'test'\n}","service":"identity-service","timestamp":"2026-02-17T17:22:43.495Z"}
{"level":"warn","message":"Validation failed: \"password\" length must be at least 6 characters long","service":"identity-service","timestamp":"2026-02-17T17:22:43.505Z"}
{"level":"info","message":"POST /api/auth/register","service":"identity-service","timestamp":"2026-02-17T17:22:50.133Z"}
{"level":"info","message":"Registering user with data: {\n  username: 'nnradovic',\n  email: 'nnradovic@gmail.com',\n  password: 'test123'\n}","service":"identity-service","timestamp":"2026-02-17T17:22:50.141Z"}
{"level":"error","message":"Error registering user: ReferenceError: User is not defined\n    at registerUser (C:\\Projekti\\social-media-microservice\\identity-service\\src\\controllers\\identity-contorller.js:18:16)\n    at Layer.handleRequest (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:186:3) {\n  [stack]: [Getter/Setter],\n  [message]: 'User is not defined'\n}","service":"identity-service","timestamp":"2026-02-17T17:22:50.147Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T17:25:33.732Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T17:25:34.126Z"}
{"level":"info","message":"POST /api/auth/register","service":"identity-service","timestamp":"2026-02-17T17:25:37.388Z"}
{"level":"info","message":"Registering user with data: {\n  username: 'nnradovic',\n  email: 'nnradovic@gmail.com',\n  password: 'test123'\n}","service":"identity-service","timestamp":"2026-02-17T17:25:37.405Z"}
{"level":"info","message":"User registered successfully: nnradovic","service":"identity-service","timestamp":"2026-02-17T17:25:37.690Z"}
{"level":"error","message":"Error registering user: ReferenceError: RefreshToken is not defined\n    at genereateToken (C:\\Projekti\\social-media-microservice\\identity-service\\utils\\generateToken.js:14:3)\n    at registerUser (C:\\Projekti\\social-media-microservice\\identity-service\\src\\controllers\\identity-contorller.js:34:49)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {\n  [stack]: [Getter/Setter],\n  [message]: 'RefreshToken is not defined'\n}","service":"identity-service","timestamp":"2026-02-17T17:25:37.696Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T17:28:58.908Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T17:28:59.309Z"}
{"level":"info","message":"POST /api/auth/register","service":"identity-service","timestamp":"2026-02-17T17:29:05.225Z"}
{"level":"info","message":"Registering user with data: {\n  username: 'nnradovic',\n  email: 'nnradovic@gmail.com',\n  password: 'test123'\n}","service":"identity-service","timestamp":"2026-02-17T17:29:05.245Z"}
{"level":"warn","message":"User already exists with email: nnradovic@gmail.com or username: nnradovic","service":"identity-service","timestamp":"2026-02-17T17:29:05.314Z"}
{"level":"info","message":"POST /api/auth/register","service":"identity-service","timestamp":"2026-02-17T18:10:09.756Z"}
{"level":"info","message":"Registering user with data: {\n  username: 'nnradovic',\n  email: 'nnradovic@gmail.com',\n  password: 'test123'\n}","service":"identity-service","timestamp":"2026-02-17T18:10:09.771Z"}
{"level":"warn","message":"User already exists with email: nnradovic@gmail.com or username: nnradovic","service":"identity-service","timestamp":"2026-02-17T18:10:09.820Z"}
{"level":"info","message":"POST /api/auth/register","service":"identity-service","timestamp":"2026-02-17T18:11:02.310Z"}
{"level":"info","message":"Registering user with data: {\n  username: 'nnradovic1',\n  email: 'nnradovic1@gmail.com',\n  password: 'test123'\n}","service":"identity-service","timestamp":"2026-02-17T18:11:02.314Z"}
{"level":"info","message":"User registered successfully: nnradovic1","service":"identity-service","timestamp":"2026-02-17T18:11:02.514Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T19:53:20.716Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T19:53:21.113Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T19:53:43.744Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T19:53:44.108Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T19:53:58.119Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T19:53:58.460Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T19:54:49.079Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T19:54:49.483Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T19:55:40.401Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T19:55:40.767Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T19:57:09.835Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T19:57:10.291Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T19:57:28.467Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T19:57:28.829Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T19:57:46.881Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T19:57:47.230Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T20:00:32.138Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T20:00:32.580Z"}
{"level":"info","message":"POST /auth/login","service":"identity-service","timestamp":"2026-02-17T20:00:34.397Z"}
{"level":"info","message":"POST /v1/auth/login","service":"identity-service","timestamp":"2026-02-17T20:01:18.114Z"}
{"level":"info","message":"POST /api/auth/login","service":"identity-service","timestamp":"2026-02-17T20:01:35.021Z"}
{"level":"info","message":"Logging in user with data: { username: 'nnradovic1', email: 'nnradovic1@gmail.com' }","service":"identity-service","timestamp":"2026-02-17T20:01:35.025Z"}
{"level":"error","message":"Error logging in user: ReferenceError: validateLogin is not defined\n    at loginUser (C:\\Projekti\\social-media-microservice\\identity-service\\src\\controllers\\identity-contorller.js:51:23)\n    at Layer.handleRequest (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Projekti\\social-media-microservice\\identity-service\\node_modules\\router\\index.js:186:3) {\n  [stack]: [Getter/Setter],\n  [message]: 'validateLogin is not defined'\n}","service":"identity-service","timestamp":"2026-02-17T20:01:35.026Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T20:02:14.715Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T20:02:15.122Z"}
{"level":"info","message":"POST /api/auth/login","service":"identity-service","timestamp":"2026-02-17T20:02:18.246Z"}
{"level":"info","message":"Logging in user with data: { username: 'nnradovic1', email: 'nnradovic1@gmail.com' }","service":"identity-service","timestamp":"2026-02-17T20:02:18.254Z"}
{"level":"warn","message":"Validation failed: \"password\" is required","service":"identity-service","timestamp":"2026-02-17T20:02:18.269Z"}
{"level":"info","message":"POST /api/auth/login","service":"identity-service","timestamp":"2026-02-17T20:02:34.281Z"}
{"level":"info","message":"Logging in user with data: { email: 'nnradovic1@gmail.com', password: 'test123' }","service":"identity-service","timestamp":"2026-02-17T20:02:34.289Z"}
{"level":"info","message":"User logged in successfully: nnradovic1@gmail.com","service":"identity-service","timestamp":"2026-02-17T20:02:34.568Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T20:07:34.101Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T20:07:34.524Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T20:13:50.295Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T20:13:50.710Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T20:14:04.004Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T20:14:04.396Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T20:26:12.359Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T20:26:12.696Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T20:28:09.817Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T20:28:10.229Z"}
{"level":"info","message":"Server is running on port 3001","service":"identity-service","timestamp":"2026-02-17T20:28:40.326Z"}
{"level":"info","message":"Connected to MongoDB","service":"identity-service","timestamp":"2026-02-17T20:28:40.685Z"}
